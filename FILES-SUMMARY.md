# üìã –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –¥–µ–ø–ª–æ—è

## ‚úÖ –°–æ–∑–¥–∞–Ω–Ω—ã–µ/–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### üê≥ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

1. **Dockerfile** ‚úÖ (–æ–±–Ω–æ–≤–ª–µ–Ω)
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - Multi-stage build –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

2. **docker-compose.yml** ‚úÖ (–æ–±–Ω–æ–≤–ª–µ–Ω)
   - –î–æ–±–∞–≤–ª–µ–Ω Nginx —Å–µ—Ä–≤–∏—Å
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã volumes –¥–ª—è –¥–∞–Ω–Ω—ã—Ö –∏ –ª–æ–≥–æ–≤
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

3. **docker-compose.prod.yml** ‚úÖ (–Ω–æ–≤—ã–π)
   - Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
   - Health checks –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

4. **.dockerignore** ‚úÖ (–æ–±–Ω–æ–≤–ª–µ–Ω)
   - –ò—Å–∫–ª—é—á–µ–Ω—ã –Ω–µ–Ω—É–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–∑ –æ–±—Ä–∞–∑–∞

### üåê Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

5. **nginx/nginx.conf** ‚úÖ (–Ω–æ–≤—ã–π)
   - –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx
   - Gzip —Å–∂–∞—Ç–∏–µ
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

6. **nginx/conf.d/default.conf** ‚úÖ (–Ω–æ–≤—ã–π)
   - HTTP —Å–µ—Ä–≤–µ—Ä (–¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞)
   - HTTPS —Å–µ—Ä–≤–µ—Ä (–∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ—Å–ª–µ SSL)
   - Proxy –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è Next.js
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

7. **nginx/ssl/.gitkeep** ‚úÖ (–Ω–æ–≤—ã–π)
   - Placeholder –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

8. **nginx/logs/.gitkeep** ‚úÖ (–Ω–æ–≤—ã–π)
   - Placeholder –¥–ª—è –ª–æ–≥–æ–≤ Nginx

### ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

9. **.env.example** ‚úÖ (–Ω–æ–≤—ã–π)
   - –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - JWT_SECRET
   - NODE_ENV

10. **.gitignore** ‚úÖ (–æ–±–Ω–æ–≤–ª–µ–Ω)
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è nginx –ª–æ–≥–æ–≤
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### üìú –°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è

11. **deploy.sh** ‚úÖ (–Ω–æ–≤—ã–π)
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
    - –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
    - –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
    - Health check

12. **setup-ssl.sh** ‚úÖ (–Ω–æ–≤—ã–π)
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
    - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ Let's Encrypt
    - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
    - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Nginx
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

13. **README-DEPLOY.md** ‚úÖ (–Ω–æ–≤—ã–π)
    - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
    - –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
    - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
    - –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

14. **DEPLOYMENT.md** ‚úÖ (–Ω–æ–≤—ã–π)
    - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é
    - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall
    - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

15. **COMMANDS.md** ‚úÖ (–Ω–æ–≤—ã–π)
    - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –∫–æ–º–∞–Ω–¥
    - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
    - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏
    - –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
    - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
    - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

16. **CHECKLIST.md** ‚úÖ (–Ω–æ–≤—ã–π)
    - –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è
    - –ü–æ—à–∞–≥–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
    - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
    - –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

17. **PROJECT-STRUCTURE.md** ‚úÖ (–Ω–æ–≤—ã–π)
    - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
    - –û–ø–∏—Å–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
    - –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
    - –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏

18. **FILES-SUMMARY.md** ‚úÖ (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
    - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
    - –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

```
top-drink-coffee/
‚îÇ
‚îú‚îÄ‚îÄ üê≥ Docker
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile                      ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml             ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.prod.yml        ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îî‚îÄ‚îÄ .dockerignore                  ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω
‚îÇ
‚îú‚îÄ‚îÄ üåê Nginx
‚îÇ   ‚îî‚îÄ‚îÄ nginx/
‚îÇ       ‚îú‚îÄ‚îÄ nginx.conf                 ‚úÖ –ù–æ–≤—ã–π
‚îÇ       ‚îú‚îÄ‚îÄ conf.d/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ default.conf           ‚úÖ –ù–æ–≤—ã–π
‚îÇ       ‚îú‚îÄ‚îÄ ssl/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ .gitkeep               ‚úÖ –ù–æ–≤—ã–π
‚îÇ       ‚îî‚îÄ‚îÄ logs/
‚îÇ           ‚îî‚îÄ‚îÄ .gitkeep               ‚úÖ –ù–æ–≤—ã–π
‚îÇ
‚îú‚îÄ‚îÄ ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ .env.example                   ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îî‚îÄ‚îÄ .gitignore                     ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω
‚îÇ
‚îú‚îÄ‚îÄ üìú –°–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh                      ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îî‚îÄ‚îÄ setup-ssl.sh                   ‚úÖ –ù–æ–≤—ã–π
‚îÇ
‚îú‚îÄ‚îÄ üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ README-DEPLOY.md               ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ DEPLOYMENT.md                  ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ COMMANDS.md                    ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ CHECKLIST.md                   ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îú‚îÄ‚îÄ PROJECT-STRUCTURE.md           ‚úÖ –ù–æ–≤—ã–π
‚îÇ   ‚îî‚îÄ‚îÄ FILES-SUMMARY.md               ‚úÖ –ù–æ–≤—ã–π (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
‚îÇ
‚îî‚îÄ‚îÄ üíæ –î–∞–Ω–Ω—ã–µ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚îî‚îÄ‚îÄ data/
        ‚îî‚îÄ‚îÄ applications.db
```

## üéØ –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

1. ‚úÖ –í—Å–µ —Ñ–∞–π–ª—ã —É–∂–µ —Å–æ–∑–¥–∞–Ω—ã
2. ‚ö†Ô∏è –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ git
3. ‚ö†Ô∏è –ó–∞–ø—É—à–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git add .
git commit -m "Add deployment configuration"
git push origin main
```

### –ù–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ

1. ‚ö†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker –∏ Docker Compose
2. ‚ö†Ô∏è –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. ‚ö†Ô∏è –°–æ–∑–¥–∞—Ç—å `.env` –∏–∑ `.env.example`
4. ‚ö†Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å `./deploy.sh`

## üìù –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ

```bash
# –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "Add deployment configuration"
git push origin main
```

### 2. –ù–∞ VPS —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER

# –ü–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
exit
ssh user@your-server

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
git clone <URL> top-drink-coffee
cd top-drink-coffee

# –°–æ–∑–¥–∞—Ç—å .env
cp .env.example .env
nano .env  # –ò–∑–º–µ–Ω–∏—Ç—å JWT_SECRET

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π
chmod +x deploy.sh
./deploy.sh
```

### 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ DNS
chmod +x setup-ssl.sh
./setup-ssl.sh your-domain.com
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ `http://your-ip`
- [ ] –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å —Ä–∞–±–æ—Ç–∞–µ—Ç `/admin`
- [ ] –§–æ—Ä–º–∞ –∑–∞—è–≤–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
- [ ] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è `docker compose logs -f`
- [ ] Health check —Ä–∞–±–æ—Ç–∞–µ—Ç `curl http://localhost/health`

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ:

1. **–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç** ‚Üí `README-DEPLOY.md`
2. **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è** ‚Üí `DEPLOYMENT.md`
3. **–ö–æ–º–∞–Ω–¥—ã** ‚Üí `COMMANDS.md`
4. **–ß–µ–∫–ª–∏—Å—Ç** ‚Üí `CHECKLIST.md`
5. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** ‚Üí `PROJECT-STRUCTURE.md`

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker compose logs -f`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `docker compose ps`
3. –°–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º" –≤ `DEPLOYMENT.md`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã –∏–∑ `COMMANDS.md`

## üéâ –ì–æ—Ç–æ–≤–æ!

–í—Å–µ —Ñ–∞–π–ª—ã –¥–ª—è –¥–µ–ø–ª–æ—è —Å–æ–∑–¥–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ó–∞–∫–æ–º–º–∏—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. –ó–∞–ø—É—à–∏—Ç—å –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –°–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `README-DEPLOY.md`

–£–¥–∞—á–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è! üöÄ

