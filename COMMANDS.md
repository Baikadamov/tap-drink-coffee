# üìù –®–ø–∞—Ä–≥–∞–ª–∫–∞ –∫–æ–º–∞–Ω–¥

## üöÄ –î–µ–ø–ª–æ–π –∏ –∑–∞–ø—É—Å–∫

```bash
# –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫)
chmod +x deploy.sh
./deploy.sh

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose up -d

# –ó–∞–ø—É—Å–∫ —Å –ø–µ—Ä–µ—Å–±–æ—Ä–∫–æ–π
docker compose up -d --build

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
docker compose -f docker-compose.prod.yml up -d
```

## üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
chmod +x setup-ssl.sh
./setup-ssl.sh your-domain.com

# –†—É—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSL
sudo certbot certonly --standalone -d your-domain.com -d www.your-domain.com
sudo cp /etc/letsencrypt/live/your-domain.com/fullchain.pem ./nginx/ssl/
sudo cp /etc/letsencrypt/live/your-domain.com/privkey.pem ./nginx/ssl/
docker compose restart nginx

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
sudo certbot renew
docker compose restart nginx
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤
docker compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker compose logs -f app
docker compose logs -f nginx

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
docker compose logs --tail=100 app

# –õ–æ–≥–∏ Nginx –Ω–∞–ø—Ä—è–º—É—é
tail -f nginx/logs/access.log
tail -f nginx/logs/error.log
```

## üîÑ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker compose restart

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker compose restart app
docker compose restart nginx

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker compose stop

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose down

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes
docker compose down -v
```

## üîß –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker compose up -d --build

# –ü–æ–ª–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Å –æ—á–∏—Å—Ç–∫–æ–π)
docker compose down
git pull
docker compose up -d --build
```

## üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞—Ç—å backup
cp data/applications.db data/applications.db.backup-$(date +%Y%m%d-%H%M%S)

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ backup
cp data/applications.db.backup-YYYYMMDD-HHMMSS data/applications.db
docker compose restart app

# –ü—Ä–æ—Å–º–æ—Ç—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
docker compose exec app sh
cd data
sqlite3 applications.db
# –í sqlite3:
# .tables
# SELECT * FROM applications;
# .quit
```

## üßπ –û—á–∏—Å—Ç–∫–∞ Docker

```bash
# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -a

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ volumes
docker volume prune

# –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ç–∏
docker network prune

# –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å–∏—Å—Ç–µ–º—ã
docker system prune -a --volumes

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
docker system df
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
docker compose exec nginx nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞
docker compose exec nginx nginx -s reload

# –ó–∞–π—Ç–∏ –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker compose exec app sh
docker compose exec nginx sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç—å –º–µ–∂–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
docker compose exec nginx ping app

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Ä—Ç—ã
sudo netstat -tulpn | grep :80
sudo netstat -tulpn | grep :443
sudo netstat -tulpn | grep :3000

# Health check
curl http://localhost/health
curl https://your-domain.com/health
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π JWT_SECRET
openssl rand -base64 32

# –ò–∑–º–µ–Ω–∏—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ —Ñ–∞–π–ª—ã
chmod 600 .env
chmod 600 nginx/ssl/*.pem
chmod 755 data

# –ü—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
sudo ufw status
sudo netstat -tulpn
```

## üì¶ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –°–æ–∑–¥–∞—Ç—å –ø–æ–ª–Ω—ã–π backup –ø—Ä–æ–µ–∫—Ç–∞
tar -czf backup-$(date +%Y%m%d).tar.gz \
  data/ \
  nginx/ssl/ \
  .env

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ backup
tar -xzf backup-YYYYMMDD.tar.gz

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π backup (–¥–æ–±–∞–≤–∏—Ç—å –≤ crontab)
crontab -e
# –î–æ–±–∞–≤–∏—Ç—å —Å—Ç—Ä–æ–∫—É:
# 0 2 * * * cd /path/to/project && tar -czf backup-$(date +\%Y\%m\%d).tar.gz data/ nginx/ssl/ .env
```

## üåê Firewall (UFW)

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å UFW
sudo apt install ufw

# –†–∞–∑—Ä–µ—à–∏—Ç—å SSH (–í–ê–ñ–ù–û!)
sudo ufw allow 22/tcp

# –†–∞–∑—Ä–µ—à–∏—Ç—å HTTP –∏ HTTPS
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp

# –í–∫–ª—é—á–∏—Ç—å firewall
sudo ufw enable

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
sudo ufw status verbose

# –£–¥–∞–ª–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ
sudo ufw delete allow 80/tcp
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
docker stats

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h
du -sh data/
du -sh nginx/logs/

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h

# –ü—Ä–æ—Ü–µ—Å—Å—ã
top
htop
```

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å–±–æ–µ
# (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –≤ docker-compose.yml —á–µ—Ä–µ–∑ restart: unless-stopped)

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (crontab)
crontab -e
# –î–æ–±–∞–≤–∏—Ç—å:
# 0 3 * * 0 cd /path/to/project && git pull && docker compose up -d --build

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ª–æ–≥–æ–≤ (crontab)
# 0 0 * * * find /path/to/project/nginx/logs -name "*.log" -mtime +30 -delete
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

```bash
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
docker compose logs app
docker compose up app  # –ó–∞–ø—É—Å–∫ –≤ foreground –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

# Nginx –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ app
docker network inspect top-drink-coffee_top-drink-network
docker compose exec nginx ping app

# –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç
sudo lsof -i :80
sudo lsof -i :443
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å:
sudo kill -9 <PID>

# –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
sudo chown -R $USER:$USER data/
sudo chown -R $USER:$USER nginx/

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã —Å –Ω—É–ª—è
docker compose down -v
docker compose up -d --build --force-recreate
```

## üì± –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ê–ª–∏–∞—Å—ã –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ (–¥–æ–±–∞–≤–∏—Ç—å –≤ ~/.bashrc)
alias dc='docker compose'
alias dcl='docker compose logs -f'
alias dcp='docker compose ps'
alias dcr='docker compose restart'
alias dcu='docker compose up -d'
alias dcd='docker compose down'

# –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è:
source ~/.bashrc
```

